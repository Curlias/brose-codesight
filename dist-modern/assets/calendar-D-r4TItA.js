import{m as D,M as g}from"./main-CZpwgpLJ.js";document.addEventListener("alpine:init",()=>{D.data("calendarComponent",()=>({sidebarVisible:!1,currentView:"month",selectedDate:null,showEventModal:!1,currentDate:new Date,selectedConversation:null,visibleTypes:["event","meeting","task","reminder","deadline"],events:[],init(){this.loadSampleEvents(),this.selectedDate=new Date,this.currentDate=new Date},loadSampleEvents(){const t=new Date,e=t.getFullYear(),i=t.getMonth(),n=t.getDate(),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][i],h=[{title:"Team Meeting",type:"meeting",time:"10:00 AM",description:"Weekly team sync and project updates"},{title:"Product Launch",type:"event",time:"2:00 PM",description:"Launch event for new product line"},{title:"Stand-up",type:"meeting",time:"9:00 AM",description:"Daily team stand-up meeting"},{title:"Client Presentation",type:"task",time:"11:30 AM",description:"Present quarterly results to client"},{title:"Payment Due",type:"reminder",time:"9:00 AM",description:"Monthly subscription payment reminder"},{title:"Workshop",type:"event",time:"2:00 PM",description:"Design thinking workshop"},{title:"Project Deadline",type:"deadline",time:"5:00 PM",description:"Final submission for Q1 project"},{title:"Team Lunch",type:"event",time:"12:00 PM",description:"Monthly team lunch gathering"},{title:"Board Meeting",type:"meeting",time:"3:00 PM",description:"Monthly board meeting and strategy review"},{title:"Training Session",type:"event",time:"1:00 PM",description:"Employee training on new software tools"},{title:"One-on-One",type:"meeting",time:"3:00 PM",description:"Manager check-in meeting"},{title:"Code Review",type:"task",time:"4:00 PM",description:"Review new feature implementations"},{title:"Doctor Appointment",type:"reminder",time:"2:30 PM",description:"Annual health checkup appointment"},{title:"Release Planning",type:"meeting",time:"10:00 AM",description:"Plan next release cycle"},{title:"Demo Day",type:"event",time:"2:00 PM",description:"Quarterly product demo"},{title:"Conference Call",type:"meeting",time:"10:00 AM",description:"International team coordination call"},{title:"Sprint Review",type:"meeting",time:"4:00 PM",description:"Review sprint deliverables"},{title:"Budget Review",type:"task",time:"11:00 AM",description:"Quarterly budget assessment"},{title:"All Hands",type:"meeting",time:"3:00 PM",description:"Company-wide monthly meeting"}],m=new Date(e,i+1,0).getDate();this.events=[];let o=0,p=n;p=n;for(let a=p;a<=m&&o<h.length;a++)if((a-p)%2===0||a===p||a===m){const s=h[o],c=`${e}-${String(i+1).padStart(2,"0")}-${String(a).padStart(2,"0")}`;let u;if(a===n?u=`Today ${s.time}`:a===n+1?u=`Tomorrow ${s.time}`:u=`${r} ${a} ${s.time}`,this.events.push({id:o+1,title:s.title,type:s.type,date:c,time:s.time,timeStr:u,description:s.description}),o++,a===n+2&&o<h.length){const d=h[o];this.events.push({id:o+1,title:d.title,type:d.type,date:c,time:d.time,timeStr:`${r} ${a} ${d.time}`,description:d.description}),o++}if(a===Math.min(n+7,m)&&o<h.length){const d=h[o];this.events.push({id:o+1,title:d.title,type:d.type,date:c,time:d.time,timeStr:`${r} ${a} ${d.time}`,description:d.description}),o++}}if(this.events.length<8&&n<m-5){for(let a=n+1;a<=Math.min(n+10,m)&&o<h.length;a++)if(this.events.filter(s=>s.date.endsWith(String(a).padStart(2,"0"))).length===0){const s=h[o],c=`${e}-${String(i+1).padStart(2,"0")}-${String(a).padStart(2,"0")}`;this.events.push({id:o+1,title:s.title,type:s.type,date:c,time:s.time,timeStr:`${r} ${a} ${s.time}`,description:s.description}),o++}}},get currentMonthYear(){return this.currentDate.toLocaleDateString("en-US",{month:"long",year:"numeric"})},get currentPeriodTitle(){switch(this.currentView){case"month":return this.currentMonthYear;case"week":return`Week of ${this.currentDate.toLocaleDateString()}`;case"day":return this.currentDate.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"});default:return this.currentMonthYear}},get miniCalendarDays(){const t=[],e=this.currentDate.getFullYear(),i=this.currentDate.getMonth(),n=new Date(e,i,1),r=new Date(e,i+1,0).getDate(),h=n.getDay(),o=new Date(e,i,0).getDate();for(let c=h-1;c>=0;c--){const u=o-c;t.push({day:u,date:`${e}-${String(i).padStart(2,"0")}-${String(u).padStart(2,"0")}`,isOtherMonth:!0,isToday:!1})}const p=new Date;for(let c=1;c<=r;c++){const u=new Date(e,i,c),d=`${e}-${String(i+1).padStart(2,"0")}-${String(c).padStart(2,"0")}`;t.push({day:c,date:d,isOtherMonth:!1,isToday:this.isSameDay(u,p)})}const a=Math.ceil(t.length/7)*7;let s=1;for(let c=t.length;c<a;c++){const u=i+1,d=u>11?e+1:e,y=u>11?0:u;t.push({day:s,date:`${d}-${String(y+1).padStart(2,"0")}-${String(s).padStart(2,"0")}`,isOtherMonth:!0,isToday:!1}),s++}return t},get calendarDays(){return this.miniCalendarDays.map(e=>({...e,events:this.getEventsForDate(e.date),isSelected:this.selectedDate&&e.date===this.formatDate(this.selectedDate)}))},get upcomingEvents(){const t=new Date;return this.events.filter(e=>new Date(e.date)>=t&&this.visibleTypes.includes(e.type)).sort((e,i)=>new Date(e.date)-new Date(i.date)).slice(0,5)},get weekDays(){const t=this.getStartOfWeek(this.currentDate),e=[];for(let i=0;i<7;i++){const n=new Date(t);n.setDate(t.getDate()+i),e.push({date:this.formatDate(n),dayName:n.toLocaleDateString("en-US",{weekday:"short"}),dayNumber:n.getDate(),isToday:this.isSameDay(n,new Date)})}return e},get hours(){const t=[];for(let e=0;e<24;e++){const i=e===0?12:e>12?e-12:e,n=e<12?"AM":"PM";t.push(`${i}:00 ${n}`)}return t},get selectedDay(){return this.selectedDate?this.formatDate(this.selectedDate):this.formatDate(new Date)},get selectedDayTitle(){return(this.selectedDate||new Date).toLocaleDateString("en-US",{weekday:"long"})},get selectedDayDate(){return(this.selectedDate||new Date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})},get currentTimePosition(){return new Date().getMinutes()/60*60},isSameDay(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()},formatDate(t){return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`},getEventsForDate(t){return this.events.filter(e=>e.date===t&&this.visibleTypes.includes(e.type))},getStartOfWeek(t){const e=new Date(t),i=e.getDay(),n=e.getDate()-i;return new Date(e.setDate(n))},getEventsForDayAndHour(t,e){return this.getEventsForDate(t).map(n=>{const l=this.parseTime(n.time),r=this.parseTime(e);return l.hour===r.hour?{...n,minuteOffset:l.minutes,duration:60}:null}).filter(Boolean)},parseTime(t){const[e,i]=t.split(" "),[n,l]=e.split(":");let r=parseInt(n);const h=parseInt(l||"0");return i==="PM"&&r!==12?r+=12:i==="AM"&&r===12&&(r=0),{hour:r,minutes:h}},isCurrentHour(t){const i=new Date().getHours();return this.parseTime(t).hour===i},isToday(t){const e=new Date,i=new Date(t);return this.isSameDay(e,i)},addEventAtTime(t,e){const i=this.convertTo24Hour(e),n=document.getElementById("addEventModal");if(n){const l=new g(n),r=D.$data(n.querySelector('[x-data="addEventModal"]'));r&&(r.eventData.date=t,r.eventData.time=i),l.show()}},convertTo24Hour(t){const[e,i]=t.split(" "),[n,l]=e.split(":");let r=parseInt(n);const h=l||"00";return i==="PM"&&r!==12?r+=12:i==="AM"&&r===12&&(r=0),`${r.toString().padStart(2,"0")}:${h}`},eventMatchesHour(t,e){const i=this.parseTime(t.time),n=this.parseTime(e);return i.hour===n.hour},getBadgeClass(t){return{event:"bg-primary",meeting:"bg-success",task:"bg-warning",reminder:"bg-info",deadline:"bg-danger"}[t]||"bg-secondary"},getAlertClass(t){return{event:"alert-primary",meeting:"alert-success",task:"alert-warning",reminder:"alert-info",deadline:"alert-danger"}[t]||"alert-secondary"},previousMonth(){this.currentDate=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()-1,1)},nextMonth(){this.currentDate=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()+1,1)},previousPeriod(){switch(this.currentView){case"month":this.previousMonth();break;case"week":this.currentDate=new Date(this.currentDate.getTime()-7*24*60*60*1e3);break;case"day":this.currentDate=new Date(this.currentDate.getTime()-24*60*60*1e3);break}},nextPeriod(){switch(this.currentView){case"month":this.nextMonth();break;case"week":this.currentDate=new Date(this.currentDate.getTime()+7*24*60*60*1e3);break;case"day":this.currentDate=new Date(this.currentDate.getTime()+24*60*60*1e3);break}},goToToday(){this.currentDate=new Date,this.selectedDate=new Date},switchView(t){this.currentView=t,t==="day"&&(this.selectedDate=new Date(this.currentDate))},selectDate(t){this.selectedDate=new Date(t);const e=this.selectedDate.getMonth(),i=this.currentDate.getMonth();e!==i&&(this.currentDate=new Date(this.selectedDate.getFullYear(),e,1))},selectDay(t){if(this.selectedDate=new Date(t.date),t.isOtherMonth){const e=new Date(t.date);this.currentDate=new Date(e.getFullYear(),e.getMonth(),1)}},viewEvent(t){this.showNotification(`Viewing: ${t.title}`,"info"),console.log("Event details:",t)},addEvent(){const t=this.selectedDate||this.currentDate,e=document.getElementById("addEventModal");if(e){const i=new g(e),n=D.$data(e.querySelector('[x-data="addEventModal"]'));n&&(n.eventData.date=this.formatDate(t)),i.show()}},toggleSidebar(){this.sidebarVisible=!this.sidebarVisible},exportCalendar(){this.showNotification("Calendar export would start here","info")},showNotification(t,e="info"){typeof Swal<"u"?Swal.fire({title:t,icon:e==="success"?"success":e==="error"?"error":"info",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3}):alert(t)}})),D.data("searchComponent",()=>({query:"",search(){console.log("Searching for:",this.query)}})),D.data("themeSwitch",()=>({currentTheme:"light",init(){this.currentTheme=localStorage.getItem("theme")||"light",document.documentElement.setAttribute("data-bs-theme",this.currentTheme)},toggle(){this.currentTheme=this.currentTheme==="light"?"dark":"light",document.documentElement.setAttribute("data-bs-theme",this.currentTheme),localStorage.setItem("theme",this.currentTheme)}})),D.data("addEventModal",()=>({eventData:{title:"",type:"event",date:"",time:"",description:"",duration:"60",recurring:!1,recurrence:"weekly"},init(){const t=new Date;this.eventData.date=t.toISOString().split("T")[0],this.eventData.time="09:00"},submitEvent(){if(!this.eventData.title.trim()){this.showNotification("Event title is required","error");return}if(!this.eventData.date){this.showNotification("Event date is required","error");return}if(!this.eventData.time){this.showNotification("Event time is required","error");return}const t=this.convertTo12Hour(this.eventData.time),e={title:this.eventData.title,type:this.eventData.type,date:this.eventData.date,time:t,description:this.eventData.description,duration:this.eventData.duration,recurring:this.eventData.recurring?this.eventData.recurrence:null};let i=`Event "${e.title}" created for ${e.date} at ${e.time}`;e.recurring&&(i+=` (${e.recurring} recurring)`),this.showNotification(i,"success"),this.resetForm();const n=document.getElementById("addEventModal");if(n){const l=g.getInstance(n);l&&l.hide()}},convertTo12Hour(t){const[e,i]=t.split(":"),n=parseInt(e),l=n>=12?"PM":"AM";return`${n===0?12:n>12?n-12:n}:${i} ${l}`},resetForm(){this.eventData={title:"",type:"event",date:new Date().toISOString().split("T")[0],time:"09:00",description:"",duration:"60",recurring:!1,recurrence:"weekly"}},showNotification(t,e="info"){typeof Swal<"u"?Swal.fire({title:t,icon:e==="success"?"success":e==="error"?"error":"info",toast:!0,position:"top-end",showConfirmButton:!1,timer:4e3,timerProgressBar:!0}):alert(t)}}))});
