import{m as a}from"./main-CZpwgpLJ.js";document.addEventListener("alpine:init",()=>{a.data("filesComponent",()=>({sidebarVisible:!1,viewMode:"grid",sortBy:"name",selectedFiles:[],showUploadZone:!1,storageUsed:45.2,storageTotal:100,currentFolder:null,breadcrumbs:[{name:"My Files",path:"/"}],folders:[],currentFiles:[],recentFiles:[],quickAccess:[],allFiles:[],init(){this.loadSampleData(),this.sortFiles(),this.showUploadZone=this.currentFiles.length===0},get storagePercentage(){return this.storageUsed/this.storageTotal*100},get storageRemaining(){return(this.storageTotal-this.storageUsed).toFixed(1)},loadSampleData(){this.folders=[{id:1,name:"Documents",fileCount:23,icon:"bi-folder-fill"},{id:2,name:"Images",fileCount:156,icon:"bi-folder-fill"},{id:3,name:"Projects",fileCount:12,icon:"bi-folder-fill"},{id:4,name:"Shared",fileCount:8,icon:"bi-folder-fill"},{id:5,name:"Archive",fileCount:45,icon:"bi-folder-fill"}],this.allFiles=[{id:1,name:"Project Proposal.pdf",type:"document",typeLabel:"PDF",icon:"bi-file-earmark-pdf",size:"2.4 MB",modifiedDate:"2 hours ago",folder:"Documents"},{id:2,name:"Budget Spreadsheet.xlsx",type:"spreadsheet",typeLabel:"Excel",icon:"bi-file-earmark-spreadsheet",size:"856 KB",modifiedDate:"1 day ago",folder:"Documents"},{id:3,name:"Team Photo.jpg",type:"image",typeLabel:"Image",icon:"bi-file-earmark-image",size:"4.2 MB",modifiedDate:"3 days ago",folder:"Images"},{id:4,name:"Marketing Presentation.pptx",type:"presentation",typeLabel:"PowerPoint",icon:"bi-file-earmark-ppt",size:"12.8 MB",modifiedDate:"1 week ago",folder:"Documents"},{id:5,name:"Demo Video.mp4",type:"video",typeLabel:"Video",icon:"bi-file-earmark-play",size:"145 MB",modifiedDate:"2 weeks ago",folder:"Projects"},{id:6,name:"Audio Recording.mp3",type:"audio",typeLabel:"Audio",icon:"bi-file-earmark-music",size:"8.5 MB",modifiedDate:"3 weeks ago",folder:"Projects"},{id:7,name:"Archive.zip",type:"archive",typeLabel:"Archive",icon:"bi-file-earmark-zip",size:"25.6 MB",modifiedDate:"1 month ago",folder:"Archive"},{id:8,name:"Logo Design.ai",type:"image",typeLabel:"Illustrator",icon:"bi-file-earmark-image",size:"3.2 MB",modifiedDate:"2 days ago",folder:"Images"},{id:9,name:"Meeting Notes.docx",type:"document",typeLabel:"Word",icon:"bi-file-earmark-word",size:"124 KB",modifiedDate:"5 hours ago",folder:"Documents"},{id:10,name:"Client Contract.pdf",type:"document",typeLabel:"PDF",icon:"bi-file-earmark-pdf",size:"1.8 MB",modifiedDate:"1 week ago",folder:"Shared"},{id:11,name:"Screenshot.png",type:"image",typeLabel:"Image",icon:"bi-file-earmark-image",size:"956 KB",modifiedDate:"6 hours ago",folder:"Images"},{id:12,name:"Database Backup.sql",type:"document",typeLabel:"SQL",icon:"bi-file-earmark-code",size:"89 MB",modifiedDate:"3 days ago",folder:"Archive"},{id:13,name:"Product Catalog.pdf",type:"document",typeLabel:"PDF",icon:"bi-file-earmark-pdf",size:"5.7 MB",modifiedDate:"4 days ago",folder:"Shared"},{id:14,name:"Website Mockup.psd",type:"image",typeLabel:"Photoshop",icon:"bi-file-earmark-image",size:"67 MB",modifiedDate:"1 week ago",folder:"Projects"},{id:15,name:"Financial Report.xlsx",type:"spreadsheet",typeLabel:"Excel",icon:"bi-file-earmark-spreadsheet",size:"2.1 MB",modifiedDate:"2 weeks ago",folder:"Documents"}],this.currentFiles=[...this.allFiles],this.recentFiles=this.allFiles.sort((e,i)=>this.getModifiedTimestamp(e.modifiedDate)-this.getModifiedTimestamp(i.modifiedDate)).reverse().slice(0,5),this.quickAccess=[{name:"Recent",icon:"bi-clock-history",count:this.recentFiles.length,type:"recent"},{name:"Images",icon:"bi-image",count:this.allFiles.filter(e=>e.type==="image").length,type:"images"},{name:"Documents",icon:"bi-file-earmark-text",count:this.allFiles.filter(e=>e.type==="document").length,type:"documents"},{name:"Shared",icon:"bi-people",count:this.allFiles.filter(e=>e.folder==="Shared").length,type:"shared"},{name:"Trash",icon:"bi-trash",count:0,type:"trash"}]},getModifiedTimestamp(e){const i=new Date;if(e.includes("hour")){const t=parseInt(e);return i.getTime()-t*60*60*1e3}else if(e.includes("day")){const t=parseInt(e);return i.getTime()-t*24*60*60*1e3}else if(e.includes("week")){const t=parseInt(e);return i.getTime()-t*7*24*60*60*1e3}else if(e.includes("month")){const t=parseInt(e);return i.getTime()-t*30*24*60*60*1e3}return i.getTime()},sortFiles(){this.currentFiles.sort((e,i)=>{switch(this.sortBy){case"name":return e.name.localeCompare(i.name);case"date":return this.getModifiedTimestamp(e.modifiedDate)-this.getModifiedTimestamp(i.modifiedDate);case"size":return this.parseSize(e.size)-this.parseSize(i.size);case"type":return e.typeLabel.localeCompare(i.typeLabel);default:return 0}})},parseSize(e){const i=e.split(" "),t=parseFloat(i[0]);switch(i[1]){case"KB":return t*1024;case"MB":return t*1024*1024;case"GB":return t*1024*1024*1024;default:return t}},selectFile(e){const i=this.selectedFiles.indexOf(e.id);i>-1?this.selectedFiles.splice(i,1):this.selectedFiles.push(e.id)},toggleFileSelection(e){const i=this.selectedFiles.indexOf(e);i>-1?this.selectedFiles.splice(i,1):this.selectedFiles.push(e)},selectAll(){this.selectedFiles.length===this.currentFiles.length?this.selectedFiles=[]:this.selectedFiles=this.currentFiles.map(e=>e.id)},toggleSelectAll(){this.selectAll()},openFolder(e){this.currentFolder=e,this.currentFiles=this.allFiles.filter(i=>i.folder===e.name),this.breadcrumbs=[{name:"My Files",path:"/"},{name:e.name,path:`/${e.name}`}],this.selectedFiles=[],this.showUploadZone=this.currentFiles.length===0,this.sortFiles()},navigateToBreadcrumb(e){if(this.breadcrumbs=this.breadcrumbs.slice(0,e+1),e===0)this.currentFolder=null,this.currentFiles=[...this.allFiles],this.breadcrumbs=[{name:"My Files",path:"/"}];else{const i=this.breadcrumbs[e].name,t=this.quickAccess.find(l=>l.name===i);if(t){this.navigateToQuickAccessItem(t);return}const s=this.folders.find(l=>l.name===i);s?(this.currentFolder=s,this.currentFiles=this.allFiles.filter(l=>l.folder===s.name)):(this.currentFolder=null,this.currentFiles=[...this.allFiles],this.breadcrumbs=[{name:"My Files",path:"/"}])}this.selectedFiles=[],this.showUploadZone=this.currentFiles.length===0,this.sortFiles()},navigateToQuickAccess(e){this.navigateToQuickAccessItem(e)},navigateToQuickAccessItem(e){switch(this.breadcrumbs=[{name:"My Files",path:"/"},{name:e.name,path:`/${e.type}`}],this.currentFolder=null,e.type){case"recent":this.currentFiles=[...this.recentFiles];break;case"images":this.currentFiles=this.allFiles.filter(i=>i.type==="image");break;case"documents":this.currentFiles=this.allFiles.filter(i=>i.type==="document");break;case"shared":this.currentFiles=this.allFiles.filter(i=>i.folder==="Shared");break;case"trash":this.currentFiles=[];break;default:this.currentFiles=[...this.allFiles]}this.selectedFiles=[],this.showUploadZone=this.currentFiles.length===0,this.sortFiles()},setViewMode(e){this.viewMode=e},toggleSidebar(){this.sidebarVisible=!this.sidebarVisible},openFile(e){this.showNotification(`Opening ${e.name}`,"info")},downloadFile(e){this.showNotification(`Downloading ${e.name}...`,"success")},downloadSelected(){if(this.selectedFiles.length===0){this.showNotification("No files selected","warning");return}this.showNotification(`Downloading ${this.selectedFiles.length} files...`,"success")},shareFile(e){this.showNotification("Share dialog would open here","info")},renameFile(e){const i=prompt("Enter new file name:",e.name);i&&i!==e.name&&(e.name=i,this.showNotification("File renamed successfully","success"))},deleteFile(e){if(confirm(`Are you sure you want to delete "${e.name}"?`)){const i=this.currentFiles.findIndex(s=>s.id===e.id);i>-1&&this.currentFiles.splice(i,1);const t=this.allFiles.findIndex(s=>s.id===e.id);t>-1&&this.allFiles.splice(t,1),this.selectedFiles=this.selectedFiles.filter(s=>s!==e.id),this.showNotification("File deleted successfully","success")}},deleteSelected(){if(this.selectedFiles.length===0){this.showNotification("No files selected","warning");return}confirm(`Are you sure you want to delete ${this.selectedFiles.length} files?`)&&(this.currentFiles=this.currentFiles.filter(e=>!this.selectedFiles.includes(e.id)),this.allFiles=this.allFiles.filter(e=>!this.selectedFiles.includes(e.id)),this.selectedFiles=[],this.showNotification("Files deleted successfully","success"))},uploadFile(){this.showNotification("File upload dialog would open here","info")},createFolder(){const e=prompt("Enter folder name:");if(e){const i={id:this.folders.length+1,name:e,fileCount:0,icon:"bi-folder-fill"};this.folders.push(i),this.showNotification(`Folder "${e}" created successfully`,"success")}},refreshFiles(){this.showNotification("Files refreshed","success")},showNotification(e,i="info"){typeof Swal<"u"?Swal.fire({title:e,icon:i==="success"?"success":i==="error"?"error":i==="warning"?"warning":"info",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3}):alert(e)}})),a.data("searchComponent",()=>({query:"",search(){console.log("Searching for:",this.query)}})),a.data("themeSwitch",()=>({currentTheme:"light",init(){this.currentTheme=localStorage.getItem("theme")||"light",document.documentElement.setAttribute("data-bs-theme",this.currentTheme)},toggle(){this.currentTheme=this.currentTheme==="light"?"dark":"light",document.documentElement.setAttribute("data-bs-theme",this.currentTheme),localStorage.setItem("theme",this.currentTheme)}}))});
